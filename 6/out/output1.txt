9090.91



## محدودیت‌ها  
+ **محدودیت زمان:** ۱ ثانیه  
+ **محدودیت حافظه:** ۲۵۶ مگابایت  

---

## صورت‌مسئله  
تیم شما تصمیم گرفته است که برای کاهش **ریسک** و افزایش **تنوع سبد سرمایه‌گذاری**، دارایی‌هایی را انتخاب کند که بازده‌های روزانه آن‌ها با یکدیگر همبستگی زیادی نداشته باشند.  

### ورودی  
داده‌های تاریخی چند دارایی مختلف ارائه شده است که شامل موارد زیر است:  
- ستون اول: تاریخ (با فرمت YYYY-MM-DD)  
- ستون‌های بعدی: قیمت بسته‌شدن روزانه هر دارایی (مانند `Asset1`، `Asset2`، ...)  

### وظایف  
1. محاسبه **بازده روزانه** (درصد تغییرات) هر دارایی  
2. محاسبه **میانگین بازده** روزانه هر دارایی  
3. محاسبه **ماتریس همبستگی** بازده‌های روزانه  
4. انتخاب دارایی‌ها بر اساس **یک الگوریتم حریصانه (Greedy)**:
   - دارایی‌ها را به ترتیب نزولی میانگین بازده مرتب کنید.  
   - هر دارایی را **در صورتی که همبستگی آن با تمام دارایی‌های انتخاب‌شده تا آن لحظه کمتر از ۰.۵ باشد، به سبد اضافه کنید.**  
5. شبیه‌سازی استراتژی **خرید و نگهداری (Buy and Hold)** با سرمایه اولیه ۱۰,۰۰۰ دلار:
   - سرمایه به‌طور مساوی بین دارایی‌های انتخاب‌شده توزیع شود.  
   - برای هر دارایی، تعداد سهم‌های خریداری‌شده و ارزش نهایی محاسبه شود.  
6. چاپ **تعداد دارایی‌های انتخاب‌شده** و **ارزش نهایی سبد سرمایه‌گذاری** (گرد شده به دو رقم اعشار).  

---

## قالب ورودی  
ورودی شامل چندین خط است:  
- خط اول: عنوان ستون‌ها  
- خط‌های بعدی: قیمت‌های بسته‌شدن روزانه دارایی‌ها  

### نمونه ورودی  
```
Date Asset1 Asset2 Asset3
2025-01-01 100 200 300
2025-01-02 102 198 310
2025-01-03 104 202 320
2025-01-04 106 204 315
2025-01-05 108 206 330
```

---

## قالب خروجی  
خروجی شامل دو خط است:  
1. **تعداد دارایی‌های انتخاب‌شده** (عدد صحیح)  
2. **ارزش نهایی سبد سرمایه‌گذاری** (گرد شده به دو رقم اعشار)  

### نمونه خروجی  
```
2
10900.00
```

---

## توضیح نمونه  
### محاسبه بازده روزانه  
فرمول بازده روزانه:  
\[
\text{بازده} = \frac{\text{قیمت روز جاری} - \text{قیمت روز قبل}}{\text{قیمت روز قبل}}
\]

**برای `Asset1`:**  
- روز ۲: \( \frac{102 - 100}{100} = 0.02 \)  
- روز ۳: \( \frac{104 - 102}{102} ≈ 0.0196 \)  
- روز ۴: \( \frac{106 - 104}{104} ≈ 0.0192 \)  
- روز ۵: \( \frac{108 - 106}{106} ≈ 0.0189 \)  

**میانگین بازده:**  
\[
\frac{0.02 + 0.0196 + 0.0192 + 0.0189}{4} ≈ 0.0194
\]

همین روند برای `Asset2` و `Asset3` تکرار می‌شود.

### انتخاب دارایی‌ها  
1. دارایی با **بیشترین میانگین بازده** (مثلاً `Asset3`) انتخاب می‌شود.  
2. سپس `Asset1` بررسی می‌شود:  
   - **اگر همبستگی آن با `Asset3` کمتر از ۰.۵ باشد، انتخاب می‌شود.**  

### شبیه‌سازی خرید و نگهداری  
- سرمایه اولیه = **۱۰,۰۰۰ دلار**  
- بین دو دارایی **مساوی تقسیم می‌شود**: هر کدام **۵,۰۰۰ دلار**  
- **محاسبه تعداد سهم‌های خریداری‌شده** و **ارزش نهایی**:  

| دارایی  | قیمت روز اول | قیمت روز آخر | تعداد سهم خریده‌شده | ارزش نهایی |
|---------|------------|------------|----------------|------------|
| Asset3  | 300        | 330        | 5000 / 300 ≈ 16.67 | 16.67 × 330 = 5500.00 |
| Asset1  | 100        | 108        | 5000 / 100 = 50  | 50 × 108 = 5400.00 |

**ارزش نهایی سبد:**  
\[
5500.00 + 5400.00 = 10900.00
\]